How to build a release:

From checked-out source directory...

First, setup environment variables:

	CVS_RSH=ssh; export CVS_RSH
	CVSROOT=:ext:esniper@cvs.esniper.sourceforge.net:/cvsroot/esniper
	export CVSROOT
	# change these to whatever is current
	MAJOR=2
	MINOR=3
	STEP=0
	PREV=2.2.0
	# these don't change
	CURRENT=$MAJOR.$MINOR.$STEP
	CURRFILE=esniper-$MAJOR-$MINOR-$STEP
	CURRTAG=Version_${MAJOR}_${MINOR}_${STEP}

Ensure the version is correct in configure.in.

After rebuilding the automake files, make sure automake dependencies are
checked in in the correct date order.  You will need to use cvs ci -f to
force checkin for files that have no changed.  Files listed in ascending date
order (oldest to newest).  Files on the same line don't have to be the same
time, just newer than the previous line and older than the next:

	configure.in
	aclocal.m4 Makefile.am
	configure Makefile.in

Tag source:

	cvs tag -F $CURRTAG

Create a directory:

	mkdir $CURRENT

Copy Changes and Notes from the previous build:

	cp $PREV/Changes $PREV/Notes $CURRENT

Create source tar:

	cd $CURRENT
	mkdir $CURRFILE $CURRFILE/frontends
	cp ../aclocal.m4 ../auction.c ../auctionfile.c $CURRFILE
	cp ../auctionfile.h ../auction.h ../auctioninfo.c $CURRFILE
	cp ../auctioninfo.h ../AUTHORS ../buffer.c ../buffer.h $CURRFILE
	cp ../ChangeLog ../configure ../configure.in ../COPYING $CURRFILE
	cp ../depcomp ../esniper.1 ../esniper.c ../esniper.dsp $CURRFILE
	cp ../esniper.dsw ../esniper.h ../esniper.mak $CURRFILE
	cp ../esniper_man.html ../getopt.c ../getopt.h ../http.c $CURRFILE
	cp ../http.h ../INSTALL ../install-sh ../Makefile.am $CURRFILE
	cp ../Makefile.in ../misc.mk ../missing ../NEWS ../options.c $CURRFILE
	cp ../options.h ../README ../sample_auction.txt $CURRFILE
	cp ../sample_config.txt ../TODO ../util.c ../util.h $CURRFILE
	cp ../frontends/README ../frontends/snipe $CURRFILE/frontends
	tar cvf - $CURRFILE | gzip >$CURRFILE.tgz

Edit Changes and Notes (change version # for source file in Notes):

	vi Changes Notes

	(Changes can be just an edit of ../ChangeLog)

Copy files to sourceforge:

	ftp upload.sourceforge.net -> anonymous
		cd incoming
		bin
		prompt
		mput *.tgz
		quit

	scp $CURRFILE/sample* $CURRFILE/esniper.1 $CURRFILE/*.html \
		esniper@shell.sf.net:/home/groups/e/es/esniper/htdocs

Edit the web page:

	ssh -l esniper shell.sourceforge.net
		<enter password>
	vi $PROJECT/htdocs/index.html
		change tgz file to current release (two places)

Go to www.sourceforge.net:
	- login
	- go to project
	- click on admin, then file releases, then add release
	- type in release number and click "create this release"
	- cut/paste notes and changes, ensure "preserve text" is selected
	- select file(s) to import
	- mark each type (one at a time...)
	- click "send notice"

Send email to esniper-announce@lists.sourceforge.net to announce the
new version.

And you're done...
